DROP TABLE NOTICE;

CREATE TABLE NOTICE
(
    ID          NUMBER          NOT NULL,
    TITLE       NVARCHAR2(100)  NOT NULL,
    WRITER_ID   NVARCHAR2(50)   NOT NULL,
    CONTENT     CLOB,
    REGDATE     TIMESTAMP(6)    DEFAULT SYSTIMESTAMP    NOT NULL,
    HIT         NUMBER          DEFAULT 0 NOT NULL,
    FILES       NVARCHAR2(1000),
    NUM         NUMBER(1,0)     DEFAULT 0 NOT NULL,
    CONSTRAINT  "NOTICE_PK"     PRIMARY KEY ("ID")
);

DELETE FROM NOTICE_VIEW;

CREATE VIEW NOTICE_VIEW
AS
SELECT * FROM (
    SELECT ROWNUM NUM, N.* FROM (
        SELECT * FROM NOTICE ORDER BY REGDATE DESC
    ) N
);

INSERT INTO NOTICE VALUES (1, '타이틀1', '글쓴이1', '내용1', SYSTIMESTAMP, 0, '파일1', 0);
INSERT INTO NOTICE VALUES (2, '타이틀2', '글쓴이2', '내용2', SYSTIMESTAMP, 0, '파일2', 0);
INSERT INTO NOTICE VALUES (3, '타이틀3', '글쓴이3', '내용3', SYSTIMESTAMP, 0, '파일3', 0);
INSERT INTO NOTICE VALUES (4, '타이틀4', '글쓴이4', '내용4', SYSTIMESTAMP, 0, '파일4', 0);
INSERT INTO NOTICE VALUES (5, '타이틀5', '글쓴이5', '내용5', SYSTIMESTAMP, 0, '파일5', 0);
INSERT INTO NOTICE VALUES (6, '타이틀6', '글쓴이6', '내용6', SYSTIMESTAMP, 0, '파일6', 0);

COMMIT;


